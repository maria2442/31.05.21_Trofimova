#include <iostream>
#include <stack>
using namespace std;

const int n=1000;
int q[n][n];
stack <int> m;
void color(int i, int j,int cl)
{
    q[i][j]=cl;
}
void test(int i, int j)
{
    if (q[i][j]==q[i-1][j])
    {
        m.push(i-1);
        m.push(j);
    }
    if (q[i][j]==q[i+1][j])
    {
        m.push(i+1);
        m.push(j);
    }
    if(q[i][j]==q[i][j-1])
    {
        m.push(i);
        m.push(j-1);
    }
    if(q[i][j]==q[i][j+1])
    {
        m.push(i);
        m.push(j+1);
    }
}




int main()
{
   int a,b,c,d,e,f,i1,j1;
   cin>>a>>b;
   cin>>i1>>j1;
   cin>>e;
   for(int i=0;i<a;i++)
       for(int j=0;j<b;j++)
           cin>>q[i][j];
   i1--;
   j1--;
   m.push(i1);
   m.push(j1);
   while(!m.empty())
   {
       c=m.top();
       m.pop();
       d=m.top();
       m.pop();
       test(d,c);
       color(d,c,e);
   }

   for(int i=0;i<a;i++)
   {
       for(int j=0;j<b;j++)
           cout<<q[i][j]<<" ";
        cout<<endl;
   }
}
